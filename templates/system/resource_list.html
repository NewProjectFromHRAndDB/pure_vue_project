<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
		<link rel="stylesheet" type="text/css" href="../../static/css/lib.css"> 
		<link rel="stylesheeet" type="text/css" href="../../static/css/system/resourcelist.css">
	</head>
	<style>
			.custom-tree-node {
			  flex: 1;
			  display: flex;
			  align-items: center;
			  justify-content: space-between;
			  font-size: 14px;
			  padding-right: 8px;
			}
	</style>
	<body class="fw f14 main-index-body">
		<div id="header_box"></div>

        <div class="left-sidebar">
            <a id="menu-toggle-btn" class="abs db el-icon-arrow-left menu-toggle-btn f12 tc" href="javascript:;"></a>
            <div id="menu-box">
                <big-tree  default-active="53"></big-tree>
            </div>
        </div>
        <div id="app">
            <div class="main-box" style="margin-top:50px;height:550px;">
				<div class="main-container">
					<div id="lib :: main_container_header('资源管理','资源管理')"></div>
                    
					<!-- <el-tree
					:data="data5"
					show-checkbox
					node-key="id"
					default-expand-all
					:expand-on-click-node="false">
					<span class="custom-tree-node" slot-scope="{ node, data }">
					<span>{{ node.label }}</span>
					<span>
							<el-button
							type="text"
							size="mini"
							@click="() => append(data)">
							Append
							</el-button>
							<el-button
							type="text"
							size="mini"
							@click="() => remove(node, data)">
							Delete
							</el-button>
						</span>
						</span>
					</el-tree> -->

              <div class="tree" style="margin-left:45px;margin-top:30px;float:left;font-weight:bold;">
									<el-tree 
									:data="tableData" 
									node-key="resourceid"
									:default-expanded-keys="['17']" 
									:props="defaultProps" 
									@node-click="handleNodeClick" 
									style=" font-weight:bold;
									width:200px;
									border-radius:5px;
									font-weight:100px;"
									show-checkbox
									:expand-on-click-node="false"
									>
									<span class="custom-tree-node" slot-scope="{ node, data }">
										<span>{{ node.label }}</span>
										<span>
											<el-button
											type="text"
											size="mini"
											@click="() => append(data)">
											Append
											</el-button>
											<el-button
											type="text"
											size="mini"
											@click="() => remove(node, data)">
											Delete
											</el-button>
										</span>
									</span>
									</el-tree>
				      </div>
                    <div class="res_in" style="padding-left:10px;
					overflow:true;
					margin-left:45px;
					margin-top:30px;
					float:left;
					border:1px solid #ccc;
					width:60%;height:100%;
					border-radius:5px;">
							 <el-form  :data="tableData">

									<el-form-item label="资源名称">
										<el-input style="width:50%;"  placeholder="请输入内容" v-model="tableData[1].children[0].resourcename" clearable>
										</el-input> 
									</el-form-item>
									<el-form-item label="资源描述">
											<el-input style="width:50%;"  placeholder="请输入内容" v-model="tableData[1].children[0].resourceinfo" clearable>
												</el-input> 
									   
									</el-form-item>
									<el-form-item label="父资源">
									        {{tableData[1].children[0].url}}
									</el-form-item>
									<el-form-item label="顺序">
									        {{tableData[1].children[0].resourceid}}
									</el-form-item>
									<el-form-item label="图标地址">
									    	{{tableData[1].children[0].icon}}
									</el-form-item>
									<el-form-item label="资源类型">
									    	{{tableData[1].children[0].type}}
									</el-form-item>
									<el-form-item label="创建人">
											{{tableData[1].children[0].url}}
									</el-form-item>
									<el-form-item label="创建时间">
											{{tableData[1].children[0].url}}
									</el-form-item>
									<el-form-item label="修改人">
											{{tableData[1].children[0].url}}
									</el-form-item>
									<el-form-item label="修改时间">
											{{tableData[1].children[0].url}}
									</el-form-item>
									<el-form-item>
									  <el-checkbox name="type" >
										<span>锁定</span>
									  </el-checkbox>
									</el-form-item>
									<el-form-item>
									  <el-button >更新</el-button>
									</el-form-item>
							 </el-form>	
					</div>
				</div>
				<!-- main-container -->
			</div>
        </div>
    </body>
	<script src="../../static/js/lib.js" ></script>
    <script src="../../static/js/menu.js" ></script>
	<script src="../../static/js/system/resource.js"></script>
	<script>
			let id = 1000;
			new Vue({ 

			  data() {
				const data = [{
				  id: 1,
				  label: '一级 1',
				  children: [{
					id: 4,
					label: '二级 1-1',
					children: [{
					  id: 9,
					  label: '三级 1-1-1'
					}, {
					  id: 10,
					  label: '三级 1-1-2'
					}]
				  }]
				}, {
				  id: 2,
				  label: '一级 2',
				  children: [{
					id: 5,
					label: '二级 2-1'
				  }, {
					id: 6,
					label: '二级 2-2'
				  }]
				}, {
				  id: 3,
				  label: '一级 3',
				  children: [{
					id: 7,
					label: '二级 3-1'
				  }, {
					id: 8,
					label: '二级 3-2'
				  }]
				}];
				return {
				  data4: JSON.parse(JSON.stringify(data)),
				  data5: JSON.parse(JSON.stringify(data))
				}
			  },
		  
			  methods: {
				append(data) {
				  const newChild = { id: id++, label: 'testtest', children: [] };
				  if (!data.children) {
					this.$set(data, 'children', []);
				  }
				  data.children.push(newChild);
				},
		  
				remove(node, data) {
				  const parent = node.parent;
				  const children = parent.data.children || parent.data;
				  const index = children.findIndex(d => d.id === data.id);
				  children.splice(index, 1);
				},
		  
				renderContent(h, { node, data, store }) {
				  return (
					<span class="custom-tree-node">
					  <span>{node.label}</span>
					  <span>
						<el-button size="mini" type="text" on-click={ () => this.append(data) }>Append</el-button>
						<el-button size="mini" type="text" on-click={ () => this.remove(node, data) }>Delete</el-button>
					  </span>
					</span>);
				}
			  }
			});
		  </script>

</html>